/*
* JavaScript
* Name: anime-certificate.js
* Path: src\components\modules\scene-certificate\scripts\
 */
import anime from 'animejs/lib/anime';
import isMobile from '../../../common/scripts/detect-mobile';
import isInViewport from '../../../common/scripts/is-in-viewport';

document.addEventListener('DOMContentLoaded', () => {
  const $animeCertificate = document.querySelector('#id-scene-certificate-wrap');

  const completeAnimation = () => {
    anime.remove('#id-scene-certificate-background');
  };

  const startAnimation = () => {
    anime({
      targets: '#id-scene-certificate-background',
      d: [
        { value: 'M379.343 385.742C356.243 397.332 327.273 389.912 300.693 391.002C278.283 391.872 256.793 398.942 235.133 403.652C215.123 407.602 196.113 408.002 179.843 398.322C168.563 391.772 159.233 381.342 148.493 373.442C135.373 364.152 120.573 358.522 106.553 351.072C92.3333 344.032 77.9133 334.832 70.3733 322.502C61.0033 308.322 64.2533 291.642 59.6633 276.372C54.3533 259.162 39.1833 246.032 31.4233 229.282C25.2133 214.562 26.5833 194.402 29.2433 177.712C32.1433 160.192 44.5333 139.872 57.9433 129.082C62.3833 125.612 66.7833 122.192 70.9533 118.392C72.7933 116.752 82.7233 109.522 82.4533 107.072C93.3733 95.3617 99.2833 80.7817 108.893 68.1417C119.043 55.1217 134.973 46.7117 152.103 42.5717C167.663 38.8117 183.723 36.7217 199.983 36.3517C217.453 36.0917 234.483 37.5817 251.113 32.0817C254.613 30.9317 257.993 29.5217 261.483 28.3417C285.073 20.3717 317.253 23.8917 339.953 34.6817C348.593 38.8317 355.883 45.0017 362.893 51.2417C371.423 58.8917 379.393 67.1617 385.373 76.6917C391.083 85.8517 392.973 96.7517 400.143 105.422C404.933 111.252 409.643 117.672 414.373 123.322C421.673 132.082 432.843 136.462 439.733 146.042C446.663 155.692 449.953 167.362 452.233 178.652C455.143 193.112 456.783 207.902 455.223 222.432C452.723 245.672 439.963 262.542 426.883 280.972C422.513 287.092 418.113 293.432 416.403 300.732C415.713 304.232 415.283 307.792 415.113 311.382C414.243 321.822 411.383 331.322 409.193 341.362C405.263 358.952 396.773 376.812 379.343 385.742Z' },

        { value: 'M372.986 375.406C350.316 388.526 321.526 383.036 295.186 385.926C272.896 388.356 251.756 396.926 230.156 403.286C208.516 409.646 184.896 413.816 164.026 407.366C149.726 402.926 138.096 393.856 124.926 387.496C109.146 379.786 91.296 376.126 74.946 369.816C58.806 363.416 43.686 353.346 38.366 337.506C32.276 318.346 40.826 296.156 40.676 275.416C40.536 252.076 30.116 230.946 27.796 208.166C25.036 193.526 29.916 177.726 35.336 164.776C41.066 151.006 55.846 135.736 69.716 127.826C74.236 125.186 78.686 122.516 82.946 119.456C84.816 118.116 94.566 112.166 94.626 109.996C105.546 99.8162 112.066 86.7662 121.266 75.2362C130.606 63.1362 144.266 54.9362 158.616 50.5562C171.576 46.5162 184.926 43.9762 198.536 42.9862C213.466 41.9362 228.966 42.2662 244.526 35.8262C247.906 34.4462 251.166 32.8062 254.576 31.3762C277.876 21.5762 310.056 21.9062 332.826 30.2062C341.496 33.4262 348.816 38.7462 355.846 44.1962C364.396 50.9062 372.376 58.3162 378.386 67.1862C384.096 75.7462 386.016 86.3762 393.156 94.3862C397.936 99.8062 402.626 105.826 407.336 111.096C414.596 119.276 425.706 122.836 432.576 131.906C439.466 141.066 442.746 152.506 445.016 163.636C447.916 177.896 449.536 192.566 447.986 207.196C445.496 230.596 432.796 248.286 419.776 267.566C415.426 273.966 411.046 280.586 409.356 287.996C408.666 291.536 408.246 295.126 408.086 298.726C407.236 309.216 404.416 318.896 402.266 329.076C398.436 346.916 390.146 365.326 372.986 375.406Z' },

        { value: 'M402.49 365.924C382.03 378.684 352.62 373.234 326.81 376.004C304.92 378.334 284.97 386.754 264.24 393.014C243.43 399.304 220.36 403.424 198.65 397.014C183.76 392.574 170.93 383.534 156.9 377.184C140.02 369.474 121.58 365.814 104.21 359.534C86.9304 353.174 69.9604 343.194 61.9304 327.464C52.4204 308.464 57.6304 286.234 54.0104 265.534C49.9804 242.154 35.0104 221.504 28.7604 198.434C24.3904 182.114 28.9004 163.274 34.1804 147.884C39.7304 131.654 55.1704 114.034 70.0204 105.444C74.8604 102.674 79.6304 99.9036 84.1904 96.7336C86.1904 95.3636 96.7004 89.4936 96.6904 87.0936C108.46 76.9436 115.51 63.5036 125.76 52.3636C136.39 40.9536 151.98 34.5936 168.29 32.4236C183.07 30.4736 198.16 30.1236 213.22 31.3636C229.16 32.6536 243.95 35.0936 258.25 30.7136C261.18 29.7536 264 28.5336 266.88 27.5336C286.05 20.5636 311.7 24.3836 329.92 34.7936C336.94 38.7736 342.96 44.5836 348.83 50.4436C356.08 57.5936 363.03 65.2636 368.54 74.0236C373.92 82.4136 376.33 92.3536 383.11 100.204C387.71 105.464 392.32 111.234 396.92 116.274C404.08 124.054 414.23 127.734 421.24 136.144C428.34 144.574 432.5 154.914 435.73 164.934C439.88 177.744 442.97 190.914 443.43 204.184C445.3 226.394 437.15 243.394 428.73 261.864C425.85 267.994 422.96 274.334 422.69 281.464C422.68 284.874 422.91 288.334 423.4 291.804C424.47 301.924 423.51 311.264 423.25 321.094C422.69 338.354 417.75 356.184 402.49 365.924Z' },

      ],
      easing: 'easeOutQuad',
      direction: 'alternate',
      duration: 5000,
      loop: true,
    });
  };

  if (!isMobile()) {
    // animation in Viewport only
    isInViewport($animeCertificate, () => {
      // inViewCallback
      startAnimation();

      $animeCertificate.addEventListener('mouseenter', completeAnimation);
      $animeCertificate.addEventListener('mouseleave', startAnimation);
      // console.log('Теперь элемент виден!');
    }, () => {
      // outOfViewCallback
      completeAnimation();

      $animeCertificate.removeEventListener('mouseenter', completeAnimation);
      $animeCertificate.removeEventListener('mouseleave', startAnimation);
      // console.log('Теперь элемент скрыт.');
    });
  }
  console.log('Файл: [anime-loved-for.js] подключен!');
}); // DOMContentLoaded
