/*
* JavaScript
* Name: anime-loved-for.js
* Path: src\components\modules\scene-loved-for\scripts\
 */
import anime from 'animejs/lib/anime';
import isMobile from '../../../common/scripts/detect-mobile';
import isInViewport from '../../../common/scripts/is-in-viewport';

document.addEventListener('DOMContentLoaded', () => {
  const $lovedForWrap = document.querySelector('#id-loved-for-wrap');

  const completeAnimation = () => {
    anime.remove('#scene-loved-for-background-object');
  };

  const startAnimation = () => {
    anime({
      targets: '#scene-loved-for-background-object',
      d: [
        { value: 'M486.863 383.917C459.743 395.737 425.013 390.617 393.403 393.147C366.723 395.257 341.583 403.067 316.053 408.777C291.983 413.777 267.683 415.697 245.893 407.977C230.843 402.737 218.093 393.547 203.743 386.777C186.303 378.707 166.933 374.197 148.523 367.597C129.933 361.167 111.063 352.017 101.073 338.807C88.713 323.237 92.673 305.137 86.563 288.367C79.573 269.457 59.563 253.697 49.613 235.377C42.723 221.707 46.583 204.637 51.683 190.567C57.103 175.747 74.683 158.927 92.463 150.167C98.283 147.327 104.043 144.497 109.523 141.337C111.933 139.957 124.733 133.887 124.563 131.727C138.773 121.647 146.873 108.837 159.243 97.7066C172.173 86.1766 191.753 78.6966 212.563 75.0466C231.583 71.6666 250.933 69.8266 270.413 69.5166C291.453 69.2866 311.913 70.6466 332.063 65.6766C336.293 64.6366 340.393 63.3666 344.613 62.2866C373.163 55.0766 411.773 58.2466 438.863 68.0266C449.193 71.7566 457.873 77.3166 466.223 82.9366C476.403 89.8166 485.933 97.2266 493.093 105.757C499.933 113.947 502.143 123.707 510.783 131.417C516.573 136.587 522.273 142.277 527.993 147.267C536.823 154.997 550.383 158.747 558.763 167.177C567.173 175.657 571.173 185.987 573.943 196.007C577.483 208.817 579.473 221.947 577.573 234.907C574.533 255.637 559.023 270.997 543.143 287.807C537.853 293.417 532.513 299.217 530.463 305.807C529.493 308.947 529.293 312.177 528.943 315.377C527.933 324.757 524.543 333.387 521.963 342.467C517.403 358.427 507.493 374.917 486.863 383.917Z' },

        { value: 'M467.612 371.787C440.452 383.467 405.753 378.607 374.103 381.187C347.333 383.347 322.043 390.977 296.193 396.637C270.293 402.297 242.003 406.007 216.793 400.267C199.523 396.337 185.373 388.287 169.403 382.647C150.233 375.827 128.663 372.577 108.793 366.977C89.1525 361.307 70.5525 352.367 63.5925 338.307C55.6225 321.237 65.1625 301.587 64.3025 283.167C63.3625 262.397 50.2525 243.407 46.8725 222.947C43.5225 209.387 49.3225 194.847 55.7925 182.967C62.6725 170.317 80.4925 156.447 97.3125 149.347C102.783 146.967 108.203 144.567 113.403 141.807C115.683 140.597 127.593 135.257 127.683 133.267C141.103 124.077 149.253 112.217 160.743 101.847C172.513 91.0267 189.533 83.8767 207.353 80.2667C223.573 76.9067 240.033 74.9567 256.663 74.4167C274.913 73.8167 293.703 74.3767 312.973 68.6767C317.123 67.4567 321.142 66.0067 325.312 64.7267C353.642 56.0567 392.262 56.5767 419.402 64.2167C429.742 67.1567 438.453 71.9767 446.823 76.8967C457.033 82.9567 466.573 89.6167 473.753 97.5467C480.613 105.197 482.852 114.667 491.482 121.817C497.272 126.637 502.962 131.997 508.672 136.687C517.482 143.977 530.983 147.147 539.333 155.217C547.703 163.377 551.693 173.557 554.453 183.457C557.973 196.137 559.952 209.197 558.062 222.207C555.053 243.007 539.632 258.757 523.852 275.907C518.582 281.617 513.272 287.497 511.232 294.087C510.262 297.227 510.063 300.437 509.723 303.627C508.713 312.957 505.322 321.577 502.742 330.607C498.182 346.467 488.252 362.827 467.612 371.787Z' },

        { value: 'M498.906 364.981C473.516 376.501 438.376 371.681 407.166 374.191C380.736 376.281 356.366 383.791 331.186 389.381C305.936 394.991 278.066 398.671 252.186 392.931C234.436 388.991 219.296 380.911 202.576 375.241C182.456 368.371 160.286 365.111 139.416 359.501C118.626 353.861 98.116 345.011 88.446 331.021C76.916 314.131 83.416 294.341 79.056 275.931C74.176 255.131 55.756 236.801 48.066 216.311C42.656 201.801 48.266 185.021 54.836 171.301C61.786 156.811 81.106 141.011 99.766 133.231C105.856 130.711 111.876 128.201 117.636 125.331C120.166 124.081 133.456 118.721 133.476 116.571C148.456 107.331 157.566 95.1313 170.706 84.9013C184.396 74.3713 204.296 68.2313 225.086 65.9113C244.056 63.7813 263.196 63.1513 282.246 63.9813C302.476 64.9513 320.876 67.2513 338.346 63.4513C341.896 62.6513 345.326 61.6213 348.826 60.7813C372.116 55.1813 403.016 59.7213 424.856 69.8413C433.266 73.6613 440.456 79.0813 447.446 84.5013C456.086 91.0713 464.356 98.0313 470.886 105.861C477.256 113.301 479.976 122.011 488.076 128.891C493.576 133.451 499.116 138.421 504.666 142.731C513.306 149.301 525.696 152.181 534.246 159.131C542.906 166.021 547.936 174.621 551.846 182.991C556.846 193.661 560.526 204.701 560.766 216.271C561.566 236.411 550.096 252.681 538.296 270.071C534.286 275.811 530.246 281.701 529.386 288.201C528.976 291.291 529.306 294.451 529.496 297.581C530.056 306.771 528.186 315.301 527.156 324.231C525.226 339.901 517.986 356.101 498.906 364.981Z' },

      ],
      easing: 'easeOutQuad',
      duration: 8000,
      direction: 'alternate',
      loop: true,
    });
  };

  // desktop only
  if (!isMobile()) {
    // is in viewport only
    isInViewport(
      $lovedForWrap,
      () => {
      // inViewCallback
        startAnimation();
        $lovedForWrap.addEventListener('mouseenter', completeAnimation);
        $lovedForWrap.addEventListener('mouseleave', startAnimation);
      },
      () => {
      // outOfViewCallback
        completeAnimation();
        $lovedForWrap.removeEventListener('mouseenter', completeAnimation);
        $lovedForWrap.removeEventListener('mouseleave', startAnimation);
      },
    ); // isInViewport
  } // !isMobile()

  console.log('Файл: [anime-loved-for.js] подключен!');
}); // DOMContentLoaded
